# 血染钟楼虚拟城镇广场功能文档

## 🎯 项目概述

这是一个基于Vue.js开发的**血染钟楼（Blood on the Clocktower）**虚拟城镇广场和魔典应用，提供完整的游戏管理功能。

## 🎮 核心功能

### 1. 游戏管理
- **玩家管理**：添加、移除、随机化座位
- **角色分配**：选择游戏版本，分配角色给玩家
- **游戏状态**：白天/夜晚切换，玩家生死状态管理
- **投票系统**：提名、投票、计票功能

### 2. 魔典功能
- **角色展示**：显示所有角色图标和信息
- **夜晚顺序**：显示角色夜晚行动顺序
- **背景设置**：自定义背景图片
- **缩放控制**：调整魔典显示大小

### 3. 实时会话
- **主持模式**：说书人主持游戏
- **玩家模式**：玩家加入游戏
- **延迟设置**：调整网络延迟
- **角色分发**：向玩家发送角色信息

## 🎯 详细功能说明

### 玩家管理
```
功能：添加、编辑、移除玩家
快捷键：[A] - 添加玩家
操作：
- 点击右上角菜单 → 玩家 → 添加
- 右键玩家令牌 → 编辑姓名/代词
- 拖拽玩家令牌交换位置
```

### 角色分配
```
功能：选择游戏版本并分配角色
前置条件：至少5个玩家
操作：
- 点击右上角菜单 → 角色 → 选择版本
- 点击"选择并分配"进入角色选择界面
- 选择角色后点击"随机分配角色"
```

### 投票系统
```
功能：提名和投票机制
操作：
- 右键玩家 → 提名此玩家
- 在投票界面进行投票
- 支持倒计时、暂停、继续功能
```

### 夜晚模式
```
功能：切换到夜晚阶段
快捷键：[S] - 切换白天/夜晚
效果：
- 背景变暗
- 显示夜晚顺序
- 云朵动画效果
```

### 魔典控制
```
快捷键：[G] - 显示/隐藏魔典
功能：
- 角色信息展示
- 夜晚顺序查看
- 背景图片设置
- 缩放控制
```

## 🎨 界面特性

### 动画效果
- **按钮悬停**：上浮效果和阴影
- **令牌交互**：缩放和旋转动画
- **页面切换**：模糊和缩放过渡
- **菜单展开**：弹性动画效果
- **投票倒计时**：增强的视觉反馈

### 视觉设计
- **中世纪风格**：使用Papyrus字体
- **角色图标**：精美的角色令牌设计
- **夜晚背景**：动态云朵和色调变化
- **状态指示**：生死、投票、标记状态

## 🌐 国际化支持

### 支持语言
- **中文简体** (zh-CN)
- **英文** (en-US)

### 切换方式
```
操作：右上角菜单 → 帮助 → 语言切换
快捷键：无
```

## ⌨️ 快捷键列表

| 快捷键 | 功能 |
|--------|------|
| `[G]` | 显示/隐藏魔典 |
| `[A]` | 添加玩家 |
| `[H]` | 主持会话 |
| `[J]` | 加入会话 |
| `[R]` | 显示参考表 |
| `[N]` | 显示夜晚顺序 |
| `[E]` | 选择版本 |
| `[C]` | 选择并分配角色 |
| `[V]` | 显示投票历史 |
| `[S]` | 切换白天/夜晚 |
| `[ESC]` | 关闭模态框 |

## 🔧 技术特性

### 前端技术
- **Vue.js 2.x**：响应式框架
- **Vuex**：状态管理
- **SCSS**：样式预处理
- **Font Awesome**：图标库

### 功能模块
- **玩家管理模块**：玩家增删改查
- **角色管理模块**：角色选择和分配
- **会话管理模块**：实时游戏会话
- **投票管理模块**：投票流程控制
- **魔典显示模块**：游戏信息展示

## 📱 响应式设计

### 适配设备
- **桌面端**：完整功能体验
- **平板端**：适配触摸操作
- **移动端**：基础功能支持

### 显示优化
- **自适应布局**：根据屏幕尺寸调整
- **触摸友好**：大按钮和手势支持
- **性能优化**：动画性能优化

## 🎯 使用场景

### 说书人使用
1. 创建游戏会话
2. 添加玩家并分配角色
3. 管理游戏进程
4. 主持投票环节

### 玩家使用
1. 加入游戏会话
2. 查看角色信息
3. 参与投票过程
4. 查看游戏状态

## 🎨 动画优化

### 最新动画特性
- **平滑过渡**：使用cubic-bezier缓动函数
- **交互反馈**：悬停、点击、焦点状态
- **视觉增强**：阴影、发光、模糊效果
- **性能优化**：优化的动画时长和效果

### 动画效果列表
- ✅ 按钮悬停上浮效果
- ✅ 令牌缩放和旋转
- ✅ 模态框缩放进入/退出
- ✅ 页面切换模糊过渡
- ✅ 夜晚背景色调变化
- ✅ 投票倒计时增强效果
- ✅ 菜单弹性展开动画
- ✅ 角色选择高亮效果

## 📋 更新日志

### 最新版本特性
- ✅ 完整的国际化支持（中英文）
- ✅ 优化的动画效果和用户体验
- ✅ 增强的视觉反馈和交互
- ✅ 稳定的功能表现和性能

### 功能完善度
- ✅ 玩家管理：100%
- ✅ 角色分配：100%
- ✅ 投票系统：100%
- ✅ 魔典功能：100%
- ✅ 会话管理：100%
- ✅ 国际化：100%
- ✅ 动画效果：100%

---

**项目地址**：GitHub开源项目  
**技术支持**：Discord社区  
**版本信息**：查看页面右下角版本号  
**开发状态**：功能完整，持续优化
