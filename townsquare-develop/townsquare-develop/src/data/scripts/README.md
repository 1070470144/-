# å‰§æœ¬ç®¡ç†ç³»ç»Ÿ

## ğŸ“ æ–‡ä»¶å¤¹ç»“æ„

```
src/data/scripts/
â”œâ”€â”€ official/          # å®˜æ–¹å‰§æœ¬
â”‚   â”œâ”€â”€ trouble-brewing.json
â”‚   â”œâ”€â”€ bad-moon-rising.json
â”‚   â”œâ”€â”€ sects-and-violets.json
â”‚   â””â”€â”€ laissez-un-faire.json
â”œâ”€â”€ custom/            # è‡ªå®šä¹‰å‰§æœ¬
â”‚   â””â”€â”€ example-custom-script.json
â”œâ”€â”€ templates/         # æ¨¡æ¿å‰§æœ¬
â”‚   â””â”€â”€ beginner-template.json
â””â”€â”€ README.md
```

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### 1. å‰§æœ¬åˆ†ç±»
- **å®˜æ–¹å‰§æœ¬** (`official/`): è¡€æŸ“é’Ÿæ¥¼å®˜æ–¹å‘å¸ƒçš„å‰§æœ¬
- **è‡ªå®šä¹‰å‰§æœ¬** (`custom/`): ç”¨æˆ·åˆ›å»ºçš„å‰§æœ¬
- **æ¨¡æ¿å‰§æœ¬** (`templates/`): å¯å¤ç”¨çš„å‰§æœ¬æ¨¡æ¿

### 2. å‰§æœ¬æ•°æ®æ ¼å¼

æ¯ä¸ªå‰§æœ¬æ–‡ä»¶åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

```json
{
  "id": "unique-script-id",
  "name": "å‰§æœ¬åç§°",
  "author": "ä½œè€…",
  "description": "å‰§æœ¬æè¿°",
  "level": "Beginner|Intermediate|Veteran",
  "roles": ["è§’è‰²IDåˆ—è¡¨"],
  "isOfficial": true/false,
  "isCustom": true/false,
  "isTemplate": true/false,
  "createdAt": "åˆ›å»ºæ—¶é—´",
  "updatedAt": "æ›´æ–°æ—¶é—´",
  "version": "ç‰ˆæœ¬å·"
}
```

### 3. ç®¡ç†åŠŸèƒ½

#### åˆ›å»ºå‰§æœ¬
- é€šè¿‡ç•Œé¢åˆ›å»ºæ–°å‰§æœ¬
- é€‰æ‹©è§’è‰²ç»„åˆ
- è®¾ç½®éš¾åº¦ç­‰çº§
- æ·»åŠ æè¿°ä¿¡æ¯

#### ç¼–è¾‘å‰§æœ¬
- ä¿®æ”¹å‰§æœ¬ä¿¡æ¯
- è°ƒæ•´è§’è‰²åˆ—è¡¨
- æ›´æ–°æè¿°å’Œéš¾åº¦

#### å¯¼å…¥/å¯¼å‡º
- æ”¯æŒJSONæ ¼å¼å¯¼å…¥
- å¯¼å‡ºå‰§æœ¬æ–‡ä»¶
- åˆ†äº«å‰§æœ¬æ•°æ®

#### åˆ é™¤å‰§æœ¬
- åˆ é™¤è‡ªå®šä¹‰å‰§æœ¬
- ä¿ç•™å®˜æ–¹å‰§æœ¬

## ğŸ› ï¸ æŠ€æœ¯å®ç°

### æ ¸å¿ƒå·¥å…·
- `scriptManager.js`: å‰§æœ¬ç®¡ç†æ ¸å¿ƒå·¥å…·
- `scriptInitializer.js`: å‰§æœ¬æ•°æ®åˆå§‹åŒ–
- `ScriptManager.vue`: å‰§æœ¬ç®¡ç†ç•Œé¢ç»„ä»¶

### å­˜å‚¨æ–¹å¼
- **æœ¬åœ°å­˜å‚¨**: ä½¿ç”¨localStorageä¿å­˜å‰§æœ¬æ•°æ®
- **æ–‡ä»¶ç³»ç»Ÿ**: å‰§æœ¬æ–‡ä»¶å­˜å‚¨åœ¨å¯¹åº”æ–‡ä»¶å¤¹
- **æ•°æ®åŒæ­¥**: è‡ªåŠ¨åŒæ­¥æœ¬åœ°å­˜å‚¨å’Œæ–‡ä»¶ç³»ç»Ÿ

### æ•°æ®éªŒè¯
- å‰§æœ¬æ ¼å¼éªŒè¯
- è§’è‰²IDéªŒè¯
- å¿…å¡«å­—æ®µæ£€æŸ¥

## ğŸ“‹ ä½¿ç”¨è¯´æ˜

### 1. åˆå§‹åŒ–ç³»ç»Ÿ
```javascript
import { initializeScripts } from '@/utils/scriptInitializer';

// åˆå§‹åŒ–å‰§æœ¬æ•°æ®
await initializeScripts();
```

### 2. ç®¡ç†å‰§æœ¬
```javascript
import scriptManager from '@/utils/scriptManager';

// è·å–æ‰€æœ‰å‰§æœ¬
const scripts = await scriptManager.getAllScripts();

// åˆ›å»ºæ–°å‰§æœ¬
const newScript = await scriptManager.createScript({
  name: "æˆ‘çš„å‰§æœ¬",
  author: "æˆ‘çš„åå­—",
  roles: ["washerwoman", "imp"]
}, 'custom');

// ä¿å­˜å‰§æœ¬
await scriptManager.saveScript(script, 'custom');

// åˆ é™¤å‰§æœ¬
await scriptManager.deleteScript(scriptId, 'custom');
```

### 3. å¯¼å…¥/å¯¼å‡º
```javascript
// å¯¼å‡ºå‰§æœ¬
scriptManager.exportScript(scriptId, 'custom');

// å¯¼å…¥å‰§æœ¬
const file = event.target.files[0];
await scriptManager.importScript(file, 'custom');
```

## ğŸ”§ æ‰©å±•å¼€å‘

### æ·»åŠ æ–°å‰§æœ¬ç±»å‹
1. åœ¨å¯¹åº”æ–‡ä»¶å¤¹åˆ›å»ºJSONæ–‡ä»¶
2. æ›´æ–°scriptManager.jsä¸­çš„ç±»å‹å¤„ç†
3. åœ¨ç•Œé¢ä¸­æ·»åŠ æ–°ç±»å‹æ”¯æŒ

### è‡ªå®šä¹‰éªŒè¯è§„åˆ™
1. ä¿®æ”¹validateScriptæ–¹æ³•
2. æ·»åŠ è‡ªå®šä¹‰éªŒè¯é€»è¾‘
3. æ›´æ–°é”™è¯¯æç¤ºä¿¡æ¯

### æ•°æ®è¿ç§»
1. ä½¿ç”¨scriptInitializer.js
2. æ‰¹é‡å¯¼å…¥ç°æœ‰æ•°æ®
3. éªŒè¯æ•°æ®å®Œæ•´æ€§

## ğŸ“Š ç»Ÿè®¡ä¿¡æ¯

ç³»ç»Ÿæä¾›å‰§æœ¬ç»Ÿè®¡åŠŸèƒ½ï¼š
- æ€»å‰§æœ¬æ•°é‡
- å„ç±»å‹å‰§æœ¬æ•°é‡
- æŒ‰éš¾åº¦åˆ†ç±»ç»Ÿè®¡
- åˆ›å»ºæ—¶é—´åˆ†å¸ƒ

## ğŸ”’ å®‰å…¨è€ƒè™‘

- å®˜æ–¹å‰§æœ¬ä¸å¯åˆ é™¤
- æ•°æ®éªŒè¯é˜²æ­¢æ¶æ„è¾“å…¥
- æ–‡ä»¶å¤§å°é™åˆ¶
- è§’è‰²IDç™½åå•éªŒè¯

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0
- åŸºç¡€å‰§æœ¬ç®¡ç†åŠŸèƒ½
- å®˜æ–¹å‰§æœ¬æ•°æ®
- è‡ªå®šä¹‰å‰§æœ¬æ”¯æŒ
- å¯¼å…¥/å¯¼å‡ºåŠŸèƒ½
- æ¨¡æ¿å‰§æœ¬ç³»ç»Ÿ 